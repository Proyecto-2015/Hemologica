<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<h:head>
</h:head>
<h:body>
	
		<h:form>
			<p:messages showDetail="true" autoUpdate="true" closable="true" />
			
			<div class="container">
				<div class="row">
					<div class="col-md-6 col-md-offset-3">
					<fieldset>
						<legend>
							<h:outputText value="#{messages.label_follow}"/>
						</legend>	
						
						<div class="form-horizontal" >
						
							<div class="form-group">
								<label class="col-md-5 control-label" for="donation_state"><h:outputText
										value="#{messages.label_insitution}" /></label>
								<div class="col-md-9 col-lg-5">
									<h:selectOneMenu id="donation_state" styleClass="form-control"
										value="#{unitBB.institution}" style="height: 34px;"
										converter="#{dataInstitutionConverter}">
<!-- 										<p:ajax  update="@form"/> -->
										<f:selectItems value="#{applicationBB.institutions}" var="state"
											itemValue="#{state}" itemLabel="#{state.name}" />
									</h:selectOneMenu>
								</div>
							</div>
							
							<div class="form-group">
								<label class="col-md-5 control-label" for="name"><h:outputText
										value="#{messages.label_unit_code}" /></label>
								<div class="col-md-9 col-lg-5">
									<h:inputText class="label-form-user form-control"
										value="#{unitBB.code}" />
								</div>
								
								<p:commandButton icon="ui-icon-search"
									styleClass="form-control search-btn col-xs-2 col-sm-3 col-md-3 col-lg-1"
								 action="#{unitBB.search()}" process="@form" update="@form" />
							</div>
						</div>
					</fieldset>	
					
					<div id="seguimiento">
						
						<div class="row">
							<div class="col-md-8 col-md-offset-3">
								
<!-- 								if transfusion != null -->
								<fieldset>
									<legend>
										<h:outputText value="#{messages.label_transfusion}"/>
									</legend>	
									<div class="form-horizontal">
										<div class="row">
											<div class="form-group">
										
												<label class="col-md-5 control-label" for="name"><h:outputText
														value="#{messages.donation_date}" />:</label>
												
												<label class="col-md-5 control-label" style="text-align: left;">
													<h:outputText value="#{unitBB.unit.transfusion.date}" />
												</label>
												
											</div>
											<div class="form-group">
										
												<label class="col-md-5 control-label" for="name"><h:outputText
														value="#{messages.stock_bank_filter}" />:</label>
												
													<label class="col-md-7 control-label" style="text-align: left;">
														<h:outputText value="#{unitBB.unit.transfusion.bank.name}" />
													</label>
												
											</div>

											<div class="form-group">
											
												<label class="col-md-5 control-label" for="name"><h:outputText
														value="#{messages.label_product}" />:</label>
												
												<label class="col-md-7 control-label" style="text-align: left;">
													<h:outputText value="#{unitBB.unit.transfusion.dataProduct.display}" />
												</label>
												
											</div>
											<div class="form-group">	
												<label class="col-md-5 control-label" for="name"><h:outputText
														value="#{messages.label_volume}" />:</label>
												
												<label class="col-md-7 control-label" style="text-align: left;">
													<h:outputText value="#{unitBB.unit.transfusion.volume}" />
												</label>
												
											</div>
										</div>
									</div>
								</fieldset>
								
							</div>
					</div>	
					
					
					
							<div class="row">
							<div class="col-md-8 col-md-offset-3" style="padding-bottom: 30px;">
								<fieldset>
									<legend>
										<h:outputText value="#{messages.label_movements}"/>
									</legend>	
					
<!-- 								if movimiento != null -->								
								<table class="col-md-12 col-lg-12 table-bordered table-striped table-condensed cf">
					        		<thead class="cf">
					        			<tr>
					        				<th><h:outputText value="#{messages.donation_date}"/></th>
					        				<th><h:outputText value="#{messages.label_movement}"/></th>
					        				<th><h:outputText value="#{messages.label_center}"/></th>
					        				        				
					        			</tr>
					        		</thead>
					        		<tbody>
					        			<c:forEach items="#{unitBB.unit.movements}" var="movement" varStatus="counter">
						        			<tr>
						        				<td data-title="#{messages.donation_date}"><h:outputText value="#{movement.date}"/></td>
						        				<td data-title="#{messages.label_movement}"><h:outputText value="#{movement.movementsType}"/></td>
						        				<td data-title="#{messages.label_center}"><h:outputText value="#{movement.centerName}"/></td>
						        				
						        			</tr>
						        		</c:forEach>
					        		
					        		</tbody>
					        	
        						</table>
							</fieldset>
							</div>
							</div>	
<!-- 								if donacion != null -->

							<div class="row">
							<div class="col-md-8 col-md-offset-3">
								<fieldset>
									<legend>
										<h:outputText value="#{messages.label_donation}"/>
									</legend>									
									
									<div class="form-horizontal">
										<div class="row">
											
											<div class="form-group">
										
												<label class="col-md-5 control-label" for="name"><h:outputText
														value="#{messages.donation_date}" />:</label>
												
												<label class="col-md-7 control-label" style="text-align: left;">
													<h:outputText value="#{unitBB.unit.donation.date}" />
												</label>
												
											</div>
											<div class="form-group">
											
												<label class="col-md-5 control-label" for="name"><h:outputText
														value="#{messages.stock_bank_filter}" />:</label>
												
												<label class="col-md-7 control-label" style="text-align: left;">
													<h:outputText value="#{unitBB.unit.donation.bank.name}" />
												</label>
												
											</div>
											<div class="form-group">	
												<label class="col-md-5 control-label" for="name"><h:outputText
														value="#{messages.donation_blood_type}" />:</label>
												
												<label class="col-md-7 control-label" style="text-align: left;">
													<h:outputText value="#{unitBB.unit.donation.person.bloodType.displayName}" />
												</label>
												
											</div>
										</div>
									</div>
									
									
									
								</fieldset>
							</div>
							</div>
			
						</div>
						
					</div>
				</div>		
						
			</div>
						
					
<!-- 		</div> -->
<!-- 	</div> -->
		
					
<!-- 					<p:panelGrid layout="grid" columns="2" -->
<!-- 						columnClasses="ui-grid-col-3,ui-grid-col-9"> -->

<!-- 						<p:outputLabel for="follow_unit_filter_institution" -->
<!-- 							value="Institucion" /> -->
<!-- 						<h:selectOneMenu id="follow_unit_filter_institution" -->
<!-- 							value="#{unitBB.institution}" -->
<!-- 							converter="#{dataInstitutionConverter}"> -->
<!-- 							<f:selectItems itemLabel="#{institution.name}" -->
<!-- 								itemValue="#{institution}" value="#{applicationBB.institutions}" -->
<!-- 								var="institution" /> -->
<!-- 						</h:selectOneMenu> -->

<!-- 						<p:outputLabel for="follow_unit_filter_institution_code" -->
<!-- 							value="Códgo de la Institucion" /> -->
<!-- 						<p:inputText id="follow_unit_filter_institution_code" -->
<!-- 							value="#{unitBB.institutionCode}" /> -->


<!-- 						<p:outputLabel for="follow_unit_filter_code" -->
<!-- 							value="Códgo de la Institucion" /> -->
<!-- 						<p:inputText id="follow_unit_filter_code" value="#{unitBB.code}" /> -->


<!-- 						<p:outputLabel for="follow_unit_filter_product_type" -->
<!-- 							value="Institucion" /> -->
<!-- 						<h:selectOneMenu id="follow_unit_filter_product_type" -->
<!-- 							value="#{unitBB.productType}" -->
<!-- 							converter="#{dataProductTypeConverter}"> -->
<!-- 							<f:selectItems itemValue="#{product}" -->
<!-- 								itemLabel="#{product.display}" value="#{applicationBB.products}" -->
<!-- 								var="product" /> -->
<!-- 						</h:selectOneMenu> -->

<!-- 						<p:outputLabel for="follow_unit_filter_blood_type" -->
<!-- 							value="Institucion" /> -->
<!-- 						<h:selectOneMenu id="follow_unit_filter_blood_type" -->
<!-- 							value="#{unitBB.bloodType}" converter="#{dataBloodTypeConverter}"> -->
<!-- 							<f:selectItems itemValue="#{bloodType}" -->
<!-- 								itemLabel="#{bloodType.displayName}" -->
<!-- 								value="#{applicationBB.bloodTypes}" var="bloodType" /> -->
<!-- 						</h:selectOneMenu> -->

<!-- 					</p:panelGrid> -->

<!-- 					<p:outputPanel> -->
<!-- 						<p:commandButton value="#{messages.label_search}" -->
<!-- 							action="#{unitBB.search()}" update="@form" /> -->
<!-- 						<p:commandLink value="#{messages.label_clear}" -->
<!-- 							action="#{unitBB.searchClear()}" update="@form" /> -->
<!-- 					</p:outputPanel> -->

					<!-- 				</p:fieldset> -->
<!-- 				</p:outputPanel> -->

<!-- 				<p:outputPanel styleClass="ui-grid-row" -->
<!-- 					rendered="#{unitBB.renderResult}"> -->
					<!-- 				<p:fieldset legend="Resultado"> -->

<!-- 					<table id="lab_results_table" -->
<!-- 						class="col-md-12 table-bordered table-striped table-condensed cf"> -->
<!-- 						<thead class="cf"> -->
<!-- 							<tr> -->
<!-- 								<th><h:outputText value="Código" /></th> -->
<!-- 								<th><h:outputText value="Institución" /></th> -->
<!-- 								<th><h:outputText value="Codigo Institución" /></th> -->
<!-- 								<th><h:outputText value="Producto" /></th> -->
<!-- 								<th><h:outputText value="Tipo" /></th> -->
<!-- 								<th><h:outputText value="Vencimiento" /></th> -->
<!-- 								<th><h:outputText value="Estado" /></th> -->
<!-- 							</tr> -->
<!-- 						</thead> -->
<!-- 						<tbody> -->
<!-- 							<c:forEach items="#{unitBB.units}" var="unit" varStatus="counter"> -->
<!-- 								<tr> -->
<!-- 									<td data-title="Código"><h:outputText value="#{unit.code}" /> -->
<!-- 									</td> -->
<!-- 									<td data-title="Institución"><h:outputText -->
<!-- 											value="#{unit.institution}" /></td> -->
<!-- 									<td data-title="Código Institución"><h:outputText -->
<!-- 											value="#{unit.institutionCode}" /></td> -->
<!-- 									<td data-title="Producto"><h:outputText -->
<!-- 											value="#{unit.productType.display}" /></td> -->
<!-- 									<td data-title="Tipo"><h:outputText -->
<!-- 											value="#{unit.bloodType.displayName}" /></td> -->
<!-- 									<td data-title="Vencimiento"><h:outputText -->
<!-- 											value="#{unit.dueDate}"> -->
<!-- 																					<f:convertDateTime pattern="dd/MM/yyyy" /> -->
<!-- 										</h:outputText></td> -->
<!-- 									<td data-title="Estado"><h:outputText -->
<!-- 											value="#{unit.active}" /></td> -->
<!-- 								</tr> -->
<!-- 							</c:forEach> -->

<!-- 						</tbody> -->
<!-- 					</table> -->

					<!-- 				</p:fieldset> -->
<!-- 				</p:outputPanel> -->

<!-- 			</p:outputPanel> -->
		</h:form>
<!-- 	</h:panelGroup> -->
</h:body>
</html>
