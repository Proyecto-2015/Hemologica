<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<h:head>
</h:head>
<h:body>
	
	<div class="container">
		
		<fieldset id="fieldset-history" style ="font-size: x-large; border:1px solid #999; padding-bottom: 16px; margin-bottom: 20px; padding-top: 20px;" >
			<label class="col-md-2 col-lg-5 control-label" >
				<h:outputText value="#{transfusionViewBB.transfusion.person.fullName}" rendered="#{transfusionViewBB.transfusion.person != null}"/></label>
			
			<label class="col-md-2 col-lg-2 control-label" style="font-weight: 300;" >
				<h:outputText value="#{messages[transfusionViewBB.transfusion.person.gender.displayName]}" rendered="#{transfusionViewBB.transfusion.person != null}"/></label>
				
			<label class="col-md-2 col-lg-2 control-label" style="font-weight: 300;" >
				<h:outputText value="#{transfusionViewBB.transfusion.person.age}" rendered="#{transfusionViewBB.transfusion.person != null}"/></label>	
			
			<label class="col-md-2 col-lg-2 control-label" style="font-weight: 300;">
				<h:outputText value="#{transfusionViewBB.transfusion.person.documentNumber}" rendered="#{transfusionViewBB.transfusion.person != null}"/></label>
				
			<label class="col-md-2 col-lg-1 control-label pull-right blood-type" >
				<h:outputText value="#{messages[transfusionViewBB.transfusion.person.bloodType.displayName]}" rendered="#{transfusionViewBB.transfusion.person != null and
								transfusionViewBB.transfusion.person.bloodType != null }"  /></label>			
		</fieldset>
		
		<!-- ************* 		Transfusion  *********************** -->

		<div class="row">
			<div class="col-md-6 col-md-offset-3 form-horizontal">

				<fieldset>

						<div class="form-group">
							<label class="col-md-6 control-label" for="donation_date" style="padding-top: 0px !important;"><h:outputText
									value="#{messages.donation_date}" /></label>
							<div class="col-md-6">
								<h:outputText value="#{transfusionViewBB.transfusion.date}"></h:outputText>
							</div>
						</div>

						<div class="form-group">
							<label class="col-md-6 control-label" for="product_transfused" style="padding-top: 0px !important;"><h:outputText
									value="#{messages.label_product_transfused}" /></label>
							<div class="col-md-6">
								<h:outputText value="#{messages[transfusionViewBB.transfusion.dataProduct.display]}"></h:outputText>
							
							</div>
						</div>
						
						<div class="form-group">
							<label class="col-md-6 control-label" for="donation_date" style="padding-top: 0px !important;"><h:outputText
									value="#{messages.label_product_code}" /></label>
							<div class="col-md-6">
								<h:outputText value="#{transfusionViewBB.transfusion.productCode}"></h:outputText>
							</div>
						</div>
						
						<div class="form-group">
							<label class="col-md-6 control-label" for="donation_date" style="padding-top: 0px !important;"><h:outputText
									value="#{messages.label_donation_associated}" /></label>
							<div class="col-md-6">
								<h:outputText value="#{transfusionViewBB.transfusion.associatedDonation}"></h:outputText>
							</div>
						</div>

						<div class="form-group">
							<label class="col-md-6 control-label" for="donation_date" style="padding-top: 0px !important;"><h:outputText
									value="#{messages.label_volume}" /></label>
							<div class="col-md-6">
								<h:outputText value="#{transfusionViewBB.transfusion.volume}"></h:outputText>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-6  control-label" for="name" style="padding-top: 0px !important;"><h:outputText
						value="#{messages.label_responsible_transfusion_person}" /></label>
							<div class="col-md-6">
							
								<h:outputText value="#{transfusionViewBB.transfusion.responsibleTransfusionPerson.fullName}"></h:outputText>
								
							</div>
						</div>

					</fieldset>
			</div>
		</div>
		<div class="col-md-12" >
			<!-- ************* 		Analisis  *********************** -->
			
			<div class="container-fluid col-md-6">
				<div class="row">
					<label class="col-md-6 control-label"
							for="donation_extraction_time_end" style="padding-top: 0px !important;"><h:outputText
								value="#{messages.donation_create_edit_tab_laboratory_title}"/></label>
								
					<table id="lab_results_table"
							class="table-bordered table-striped table-condensed cf col-md-10">
							<thead class="cf">
								<tr>
									<th><h:outputText
										value="#{messages.label_analysis}" /></th>
									<th><h:outputText
											value="#{messages.donation_lab_result_date}" /></th>
									<th><h:outputText
											value="#{messages.label_result}" /></th>
								</tr>
							</thead>
							<tbody>
		
								<c:forEach items="#{transfusionViewBB.transfusion.laboratoryResults}"
									var="labResItem" varStatus="counter">
									<tr>
									<td
										data-title="#{messages.label_analysis}">
										<h:outputText value="#{messages[labResItem.analysis.displayName]}" />
									</td>
									<td
										data-title="#{messages.donation_lab_result_date}">

										<h:outputText value="#{labResItem.date}" />
											 
									</td>
									<td
										data-title="#{messages.donation_lab_result_value}">
										<h:outputText value="#{messages[labResItem.result.displayName]}" />
									</td>
								</tr>
								</c:forEach>
				
							</tbody>
					</table>
				</div>
			</div>
				
			<!-- ************* 	Eventos adversos  *********************** -->
			<div class="container-fluid col-md-6">
				<div class="row">
					<label class="col-md-6 control-label"
							for="donation_extraction_time_end" style="padding-top: 0px !important;" ><h:outputText
								value="#{messages.donation_create_edit_tab_events_title}" /></label>
					<table id="lab_results_table"
						class="table-bordered table-striped table-condensed cf col-md-10" >
						<thead class="cf">
							<tr>
	
								<th><h:outputText
										value="#{messages.label_reaccion_type}" /></th>
								<th><h:outputText
										value="#{messages.label_severity}" /></th>
							</tr>
						</thead>
						<tbody>
	
							<c:forEach items="#{transfusionViewBB.transfusion.events}"
								var="event" varStatus="counter">
								<tr>
									<td data-title="#{messages.label_reaccion_type}">
										<h:outputText value="#{messages[event.event.displayName]}" />
									</td>
									<td data-title="#{messages.label_severity}">
										<h:outputText value="#{messages[event.severity.displayName]}" />
									</td>
								</tr>
							</c:forEach>
	
						</tbody>
					</table>
				</div>
			</div>
		</div>
		
	</div>	
</h:body>
</html>
