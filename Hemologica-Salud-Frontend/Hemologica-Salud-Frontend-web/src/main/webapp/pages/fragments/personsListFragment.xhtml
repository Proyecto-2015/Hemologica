<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">

<h:head>


</h:head>
<h:body>
	<h:form>
		<div class="page-header">
			<h1> <h:outputText value="#{messages.label_persons}"/></h1>
		</div>
		
		<div class="form-group">
			<label class="col-md-1 control-label" for="name"><h:outputText
					value="#{messages.person_name}" /></label>
			<div class="col-md-9 col-lg-3">
				<h:inputText class="label-form-user form-control"
					value="#{personRecordBB.filterName}" />
			</div>
			
			<label class="col-md-1 control-label" for="name"><h:outputText
					value="#{messages.person_document_number}" /></label>
			<div class="col-md-9 col-lg-3">
				<h:inputText class="label-form-user form-control"
					value="#{personRecordBB.filterDocumentNumber}" />
			</div>
			
			<p:commandButton icon="ui-icon-search"
				styleClass="form-control search-btn col-xs-2 col-sm-3 col-md-3 col-lg-1"
			 action="#{personRecordBB.search()}" process="@form" update="@form" />
		</div>
		
		
		<table class="col-md-12 table-bordered table-striped table-condensed cf" style="margin-top: 15px;" id="persontable">
       		<thead class="cf">
       			<tr>

       				<th><h:outputText value="#{messages.person_name}"/></th>
       				<th><h:outputText value="#{messages.person_document_number}"/></th>
       				<th><h:outputText value="#{messages.label_gender}"/></th>
       				<th><h:outputText value="#{messages.labe_age}"/></th>
       				<th></th>        				
       			</tr>
       		</thead>
       		<tbody>
       			<c:forEach items="#{personRecordBB.persons}" var="personItem" varStatus="counter">
        			<tr>

        				<td data-title="#{messages.person_document_type}"><h:outputText value="#{personItem.fullName}"/></td>
        				<td data-title="#{messages.person_document_number}"><h:outputText value="#{personItem.documentNumber}"/></td>
        				<td data-title="#{messages.label_gender}"><h:outputText value="#{messages[personItem.gender.displayName]}"/></td>
        				<td data-title="#{messages.labe_age}"><h:outputText value="#{personItem.age}"/></td>
        				<td> 
        				<p:commandLink  ajax="true" class="icon-list icon-preview"
				title="#{messages.label_view}" action="#{personRecordBB.viewPerson(personItem.id)}"/>
	<!-- 						<f:ajax  execute="@form"  /> -->
						</td>
	
        			</tr>
        		</c:forEach>
       		
       		</tbody>
        </table>
    </h:form>
</h:body>
</html>
